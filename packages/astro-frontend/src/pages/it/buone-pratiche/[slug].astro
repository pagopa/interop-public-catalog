---
import Layout from '../../../layouts/Layout.astro'
import { GoodPracticeCard } from '../../../components/shared/GoodPracticeCard'
import { Section } from '../../../components/shared/Section'
import { Chip } from '../../../components/shared/Chip'
import PageHero from '../../../components/shared/PageHero.astro'
import { BootstrapItaliaIcon } from '../../../components/shared/BootstrapItaliaIcon'
import { getLangFromUrl } from '../../../i18n/utils.i18n'
import { useGoodPracticesTranslations } from '../../../i18n/good-practices.i18n'
import { useUiTranslations } from '../../../i18n/ui.i18n'
import GoodPracticeDetails from '../../../components/GoodPracticeDetails/GoodPracticeDetails.astro'

const currentLocale = getLangFromUrl(Astro.url.pathname)
const tGoodPractices = useGoodPracticesTranslations(currentLocale)
const tUi = useUiTranslations(currentLocale)
---

<Layout>
  <PageHero
    title={tGoodPractices('details.hero.title')}
    breadcrumbItems={[
      {
        routeKey: 'HOME',
      },
      {
        routeKey: 'GOOD_PRACTICES_CATALOG',
      },
      {
        routeKey: 'GOOD_PRACTICES_DETAILS',
        current: true,
      },
    ]}
  >
    <div slot="top-hero">
      <div class="d-flex align-items-center justify-content-between">
        <Chip label={'Bonus Economici'} />
        <button class="btn btn-link fw-semibold text-decoration-none">
          <span>{tGoodPractices('details.copyUrl')}</span>
          <BootstrapItaliaIcon name="it-copy" className="ms-2" color="primary" />
        </button>
      </div>
    </div>

    <div slot="bottom-hero">
      <p>
        <strong>{tUi('label.for')}:</strong> PAC, Comuni, Regioni
      </p>
    </div>

    <Section style={{ backgroundColor: '#fafafa' }}>
      <GoodPracticeDetails />
    </Section>

    <Section
      style={{ backgroundColor: '#f5f5f5' }}
      title={tGoodPractices('details.moreExamples')}
      titleClass="text-center"
    >
      <div class="d-flex justify-content-center gap-4 mt-4">
        <GoodPracticeCard
          currentLocale={currentLocale}
          title="Erogare i bonus ai cittadini in modo equo ed efficiente"
          intendedTargets={['pac', 'comuni', 'regioni', 'universita']}
          category="Bonus Economici"
        />
        <GoodPracticeCard
          currentLocale={currentLocale}
          title="Iscrizione ai concorsi pubblici piÃ¹ snella"
          intendedTargets={['pac', 'comuni', 'regioni', 'universita']}
          category="Bonus Economici"
        />
      </div>
    </Section>
  </PageHero>
</Layout>
