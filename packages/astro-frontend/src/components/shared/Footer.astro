---
import { useUiTranslations } from '../../i18n/ui.i18n'
import { getLangFromUrl } from '../../i18n/utils.i18n'

const currentLocale = getLangFromUrl(Astro.url.pathname)
const tUi = useUiTranslations(currentLocale)

// Catalogo API section links
const catalogoApiSectionNavItems = [
  { label: tUi('nav.explore_catalog'), href: '#' },
  { label: tUi('nav.examples'), href: '#' },
] as const

// Resources section links
const resourcesSectionNavItems = [
  { label: tUi('nav.what_is'), href: '#' },
  { label: tUi('nav.faq'), href: '#' },
] as const

// Footer small print links (legal, privacy, accessibility, etc.)
const footerSmallPrintLinks = [
  { label: 'Media policy', href: '#' },
  { label: 'Note legali', href: '#' },
  { label: 'Privacy policy', href: '#' },
  { label: 'Mappa del sito', href: '#' },
  { label: 'Dichiarazione di accessibilit√†', href: '#' },
] as const
---

<footer class="it-footer">
  <!-- Main footer section: logos and navigation -->
  <div class="it-footer-main it-footer-small-prints">
    <div class="container pb-3">
      <section>
        {/* Logos and navigation columns */}
        <div class="row g-4">
          <div class="col-12 col-md-2 pb-2">
            <img
              src="/img/next-generation-eu-footer-logo.svg"
              alt="Next Generation EU logo"
              class="img-fluid"
            />
          </div>
          <div class="col-12 col-md-3 pb-2">
            <img
              src="/img/dtd-footer-logo.svg"
              alt="Dipartimento per la trasformazione digitale logo"
              class="img-fluid"
            />
          </div>
          <div class="col-12 col-md-2 pb-2">
            <img src="/img/pagopa-footer-logo.svg" alt="PagoPA logo" class="img-fluid" />
          </div>
          <div class="d-none d-md-flex col-12 col-md-5 pb-2 justify-content-end gap-5">
            <!-- Catalogo API links column -->
            <div>
              <h4 class="text-uppercase">
                {tUi('brand.title')}
              </h4>
              <div class="link-list-wrapper">
                <ul class="footer-list link-list clearfix">
                  {
                    catalogoApiSectionNavItems.map((item) => (
                      <li>
                        <a class="list-item" href={item.href}>
                          {item.label}
                        </a>
                      </li>
                    ))
                  }
                </ul>
              </div>
            </div>
            <!-- Resources links column -->
            <div>
              <h4>
                {tUi('footer.nav_section.resources')}
              </h4>
              <div class="link-list-wrapper">
                <ul class="footer-list link-list clearfix">
                  {
                    resourcesSectionNavItems.map((item) => (
                      <li>
                        <a class="list-item" href={item.href}>
                          {item.label}
                        </a>
                      </li>
                    ))
                  }
                </ul>
              </div>
            </div>
          </div>
        </div>
      </section>
    </div>
  </div>
  <!-- Small print section: legal and accessibility links -->
  <div class="it-footer-small-prints clearfix border-top border-secondary">
    <div class="container">
      <ul class="it-footer-small-prints-list list-inline mb-0 d-flex flex-column flex-md-row">
        {
          footerSmallPrintLinks.map((link) => (
            <li class="list-inline-item">
              <a href={link.href}>{link.label}</a>
            </li>
          ))
        }
      </ul>
    </div>
  </div>
</footer>
