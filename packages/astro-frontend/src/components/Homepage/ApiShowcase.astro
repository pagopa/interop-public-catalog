---
import { useHomepageTranslations } from '../../i18n/homepage.i18n'
import { getLangFromUrl } from '../../i18n/utils.i18n'
import { EServiceCard } from '../shared/EServiceCard'
import { Section } from '../shared/Section'

const highlightedEServices = [
  {
    name: 'ANPR',
    producerName: "Nome dell'Ente",
    description:
      "L'Anagrafe Nazionale della Popolazione Residente (ANPR) è il sistema che raccoglie i dati anagrafici di tutti i cittadini italiani.",
  },
  {
    name: 'PagoPA',
    producerName: "Nome dell'Ente",
    description:
      'PagoPA è il sistema di pagamenti elettronici della Pubblica Amministrazione italiana, che consente ai cittadini di effettuare pagamenti in modo semplice e sicuro.',
  },
  {
    name: 'SPIDdnds ndsaj jkdsaknj dsanjk dksnaj kjdnasknj dsadsakdsanjkd sakjndnkjs akjndsaknj dakjsnkj ads',
    producerName: "Nome dell'Ente",
    description:
      "SPID (Sistema Pubblico di Identità Digitale) è il sistema di autenticazione che permette ai cittadini di accedere ai servizi online della Pubblica Amministrazione e dei privati aderenti con un'unica identità digitale.",
  },
] as const

const currentLocale = getLangFromUrl(Astro.url.pathname)
const t = useHomepageTranslations(currentLocale)
---

<Section
  title={t('featured_api.title')}
  sectionLink={{ text: t('featured_api.explore_catalog'), href: '#' }}
>
  <div class="px-0">
    <div class="row">
      {
        highlightedEServices.map((eservice) => (
          <div class="col-12 col-lg-4 mb-4">
            <EServiceCard currentLocale={currentLocale} {...eservice} />
          </div>
        ))
      }
    </div>
  </div>
</Section>
